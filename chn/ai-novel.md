# AI小说

## 注意事项

**版本要求**: 本用例需要系统版本在4.0.8（含）以上才能正常运行。请确保您的系统版本满足此要求。

## 介绍
本例是希望展示如何用本系统完成一个长篇内容的生成。这种长内容的生成一般而言都会受到系统上下文的字数限制。因此我们需要借助Agent的分而治之的能力来分段完成。本例就是演示如何完成有连贯性的长内容，通过将复杂的长篇创作任务分解为可管理的章节，实现智能化的内容生成。

## Func-Agent增强模式

### 说明
本例子使用增强的func-agent来实现AI小说生成，展示如何通过分而治之的方式完成长篇内容创作

### 具体步骤

#### 第一部分：发布生成单独章节的工具

**第1步** 进入Func-Agent计划模式
- 在首页，点击系统右下角的func-agent计划模式
- 在左边会出现一个新的框"Func-agent计划模板"

**第2步** 创建新计划
- 点击"新建计划"按钮

**第3步** 配置计划模板
- 点击"添加第一个步骤"
- 依次输入以下信息：
  - **计划模板名字**：`生成单个章节信息`
  - **任务需求**：
    ```
    依托整体的文章章节大纲： <<文章大纲>> 
    生产当前文章的特定章节：<<当前的章节名>>
    目标文章的文件地址为 ： <<文档地址>>
    生产的方式是：
    首先需要先阅读全部 文档 。 
    然后 写入当前需要完善的章节 
    字数要求： <<字数要求>>
    ```
  - **任务输出要求描述**：
    ```
    当前章节名,完成状态(完成/未完成),字数
    ```

**第4步** 选择工具
- 点击"添加/删除工具"按钮
- 选择`global_file_operator`工具

**第5步** 保存计划
- 点击"save"按钮
- 等待提示"保存成功"

**第6步** 发布为工具服务
- 向下滚动，选择"发布为服务"
- 依次填入以下信息：
  - **工具名称**：`写入单个章节的工具`
  - **工具描述**：`可以写入单个小说章节的工具`
  - **服务组**：`文章生成`
  - **参数配置**：
    - `文章大纲`: 整个文章的全局大纲
    - `当前的章节名`: 依托于全局大纲，需要在当前任务中完成的章节名，要求章节名必须在大纲中出现
    - `文档地址`: 最终输出的目标文档的地址
    - `字数要求`: 每个章节的字数要求
- 选择"发布为内部工具调用"

#### 第二部分：构建AI统治地球文章生成模板

**第7步** 创建第二个计划
- 在首页，再次点击系统右下角的func-agent计划模式
- 点击"新建计划"按钮

**第8步** 配置第二个计划模板
- 点击"添加第一个步骤"
- 依次输入以下信息：
  - **计划模板名字**：`生产一篇有关于AI统治地球的文章`
  - **任务需求**：
    ```
    构建一个有关AI统治地球的文章。
    首先，需要先构建一个标题和一组章节，要求有5个篇章，主要讲AI如何一步一步的统治地球的内容。将标题和章节名字们 都 写入到 ai-novel.md里面。每个章节1000字
    然后，调用写入单个章节的工具，每次一个章节，完善整个文章
    ```
  - **任务输出要求描述**：
    ```
    小说文件名, 完成状态
    ```

**第9步** 选择工具
- 点击"添加/删除工具"按钮
- 选择以下工具：
  - `global_file_operator`工具
  - `写入单个章节的工具`（刚刚建立的）

**第10步** 保存并执行计划
- 点击"save"按钮
- 点击"执行计划"按钮
- 观察系统生成文章大纲和章节的过程

**第11步** 查看生成结果
- 检查生成的`ai-novel.md`文件
- 验证章节结构和内容质量
- 确认每个章节都达到了字数要求

**第12步** 扩展功能（可选）
- 可以后续扩展出先根据章节写内容，然后配图等一系列的完成长内容的逻辑
- 欢迎自己尝试更多的创作功能

## 预期结果
- 成功发布章节生成工具
- 系统能够生成完整的文章大纲和章节结构
- 通过分而治之的方式完成长篇内容创作
- 每个章节都达到指定的字数要求
- 文章内容具有连贯性和逻辑性

## 技术要点
- 分而治之的创作策略
- 工具函数的发布和复用
- 长篇内容的结构化管理
- 章节化写作流程
- 内容连贯性保证
- 字数控制和质量管理

## 扩展建议
- 可以添加配图功能
- 支持多种文体和风格
- 实现内容质量评估
- 添加协作编辑功能
- 支持多语言创作

