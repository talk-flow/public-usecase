# 函数化Agent

## 介绍
本例是希望展示如何用本系统完成一个DeepResearch类的应用，并且回答是完全依据他真实看到的所有页面的信息的，能够给出清晰的引用。同时也是一个对于"函数是第一公民"的具体展示，通过将复杂任务分解为可复用的工具函数来实现。

## Func-Agent增强模式

### 说明
本例子使用增强的func-agent来实现增强型调研搜索，展示如何通过函数组合的方式完成复杂的调研任务

### 具体步骤

#### 第一部分：发布获取单个页面详细信息的函数

**第1步** 进入Func-Agent计划模式
- 在首页，点击系统右下角的func-agent计划模式
- 在左边会出现一个新的框"Func-agent计划模板"

**第2步** 创建新计划
- 点击"新建计划"按钮

**第3步** 配置计划模板
- 点击"添加第一个步骤"
- 依次输入以下信息：
  - **计划模板名字**：`获取当前页面的信息并回答问题`
  - **任务需求**：
    ```
    首先打开 <<网站URL>>
    获取他getText内容。
    然后，从内容中获取用户问题 ：<<用户问题>>相关的内容返回，包含所有获得的事实和数据。
    你只需要访问当前页面，不需要扩展去访问子页面。
    ```
  - **任务的输出要求**：`用户问题,问题的答案,关键的依据`

**第4步** 选择工具
- 点击"添加/删除工具"按钮
- 选择`browser_use`工具

**第5步** 保存计划
- 点击"save"按钮
- 等待提示"保存成功"

**第6步** 发布为工具服务
- 选择"发布为工具服务"
- 依次填入以下信息：
  - **工具名称**：`获取当前页面的信息并回答问题`
  - **工具描述**：`本工具可以依托于网站的Url 以及 用户的问题 ，访问该网站来回答用户的问题`
  - **服务组**：`查询调研`
  - **参数配置**：
    - `网站URL`: 需要访问的网站的url地址，需要是全称 例如 https:url.com/subhtml
    - `用户问题`: 需要依托于网站回答的具体问题
- 选择"发布为内部工具调用"
- 确认发布成功

#### 第二部分：发布从百度获取调研URL的方法

**第7步** 创建第二个计划
- 在首页，再次点击系统右下角的func-agent计划模式
- 点击"新建计划"按钮

**第8步** 配置第二个计划模板
- 点击"添加第一个步骤"
- 依次输入以下信息：
  - **计划模板名字**：`从百度获取需要调研的URL信息`
  - **任务需求**：
    ```
    首先打开 百度搜索引擎
    梳理他的所有与用户问题: <<用户问题>> 相关的链接 
    通过getText的方式获取搜索第一页的前5个相关链接。

    然后通过 获取当前页面的信息并回答问题 工具来访问每个链接来获取答案。
    ```
  - **任务的输出要求**：`用户问题,问题的答案,关键的依据`

**第9步** 选择工具
- 点击"添加/删除工具"按钮
- 选择以下工具：
  - `获取当前页面的信息并回答问题`工具（刚刚建立的）
  - `browser_use`工具

**第10步** 保存并执行计划
- 点击"save"按钮
- 选择"执行计划"

## 预期结果
- 成功发布两个可复用的工具函数
- 第一个函数能够获取单个页面的详细信息并回答问题
- 第二个函数能够从百度搜索获取相关URL并进行深度调研
- 通过函数组合实现复杂的调研搜索功能
- 所有回答都基于真实访问的页面内容，具有清晰的引用

## 技术要点
- 函数是第一公民的设计理念
- 工具函数的发布和复用
- 复杂任务的分解和组合
- 深度调研的实现方法
- 基于真实数据的回答生成
- 引用和依据的清晰展示

